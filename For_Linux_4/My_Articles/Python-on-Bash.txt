
#bash #python

❓ Как выполнить Python-код внутри BASH скрипта, не сохраняя его в отдельный файл?

✅ Решение.

1) Создайте в вашем bash-скрипте отдельную функцию, внутри которой не будет отступов вообще. Это важно!
2) Внесите аргументы в функцию переменными ${1}, ${2}. Столько, сколько вам нужно.
3) Запишите многострочный код Python-скрипта в одну отдельную переменную между двойными кавычками. Знаки переноса строк не нужны! Только экранируйте двойные кавычки внутри python-скрипта, внутри этой переменной.
и
4) Вынесите код в команду запуска скрипта, но в виде запуска текста скрипта. Не забудьте вставить переменные начала и конца файла, чтобы python понимал где начинается текст скрипта и где заканчивается.

Пример.

#!/bin/bash

function python_parser {
PYTHON_ARG_1="${1}"
_parser_code="import pathlib
_on_dir = pathlib.Path('${PYTHON_ARG_1}').resolve()
print(_on_dir)
"
python - «END
${_parser_code}
END
}

var=$(python_parser "${1}")
python_parser "${1}"
echo "${var}/"

exit 0

♻ Такой метод может пригодится когда у вас есть некоторый bash-скрипт и вы не хотите разделять его на массу раздельных скриптов, чтобы просто не запутаться в них. Или python-код достаточно маленький, чтобы был смысл выносить его в отдельный файл.

👉 Ну а с вами, как всегда - ваш Shadow.
📝 Подписывайтесь на канал, ставьте лайки, комментируйте.
🤝 Короткого вам пинга, ни сбоя вам, ни простоя, чтоб сервер на вас пахал, а не вы на него. Всем Добра и Удачи!




